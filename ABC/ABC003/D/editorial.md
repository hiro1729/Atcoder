# ABC003 D - AtCoder社の冬 解説

## 問題概要

$R×C$ の区画内に $D$ 個のデスクと、 $L$ 個のサーバーラックがあり、それらすべてが含まれる最小の領域は $X×Y$ になった。このとき、元のデスクとサーバーラックの配置は何パターンあるか、 $1000000007$ で割って求める。

## 制約

$$ 1 \leqq R,C \leqq 30 $$

$$ 1 \leqq X \leqq R $$

$$ 1 \leqq Y \leqq C $$

$$ 0 \leqq D,L $$

$$ 1 \leqq D+L \leqq X×Y $$

## 考察

$X×Y$ の区画の全探索は簡単。答えは $(R-X+1)×(C-Y+1)×(X×Yのときの答え)$ になる。さらに簡単にしたいので、デスクとサーバーラックを合わせて考える。 $D+L$ 個から $D$ 個を選ぶので、答えは $(R-X+1)×(C-Y+1)×(X×YからD+L個を選ぶ方法)×{}_{D+L}C_D$ になる。

$X×YからD+L個を選ぶ方法$ について。実際は条件がもっと増える。一番上、一番下の行、一番左、一番右の列のそれぞれのどこかにはデスクかサーバーラックがなければいけない。

<details><summary>包除原理</summary>

* 例: 2つのとき
二つの集合AとBがあったとき、

$$ |A \cup B| = |A| + |B| - |A \cap B| $$